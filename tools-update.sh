#!/bin/bash

tools=("seclists" "hash-identifier" "0trace" "enum4linux")

cd /tmp/



dnf -y update
pip freeze --local | grep -v '^\-e' | cut -d = -f 1 | xargs -n1 pip install -U



for tool in "${tools[@]}"
do
    url="https://gitlab.com/kalilinux/packages/$tool/-/archive/kali/master/$tool-kali-master.tar.gz"
    wget "$url"

    compact_file="$tool-kali-master.tar.gz"
    dir_tool="$tool-kali-master"

    tar -zxvf "$compact_file"

    [ "$tool" = "hash-identifier" ] && (
        mv "$dir_tool" /opt/hashid
        chmod a+x /opt/hashid/hash-id.py
        ln -sf /opt/hashid/hash-id.py /usr/local/bin/hashid
    )

    [ "$tool" = "0trace" ] && (
        mv "$dir_tool" /opt/0trace
        chmod a+x /opt/0trace/0trace.sh
        ln -sf /opt/0trace/0trace.sh /usr/local/bin/hashid
    )
    
    [ "$tool" = "enum4linux" ] && (
        mv "$dir_tool" /opt/enum4linux
        chmod a+x /opt/enum4linux/enum4linux.pl
        ln -sf /opt/enum4linux/enum4linux.pl /usr/local/bin/enum4linux
    )
    
    [ "$tool" = "seclists" ] && (
        mv "$dir_tool" /usr/share/seclists
    )
done


rm /tmp/*